# Threads 데이터 수집/분석: 안전한 방법 가이드

## 핵심 원칙
1. **공식 제공 API/정식 데이터 경로 우선**
2. 서비스 약관(ToS), robots, 플랫폼 정책 준수
3. 사용자 동의 기반 데이터 처리
4. 최소 수집/목적 제한/보관기간 제한

## "스레드 인사이트류" 서비스가 보통 쓰는 합법적 방식

### A) 공식 API(가능 시)
- Meta 계열 공식 API(Instagram Graph/관련 엔드포인트)에서 제공 범위 내 지표 조회
- 장점: 정책 일치/안정성/리스크 낮음
- 단점: 원하는 모든 필드가 항상 제공되진 않음

### B) 사용자 제공 데이터 업로드
- 사용자가 직접 내보낸 데이터(JSON/CSV)를 업로드
- 장점: 법적/정책 리스크 최소화
- 단점: 실시간성 낮음

### C) 사용자 액션 기반 보조 수집
- 브라우저 확장/앱에서 **사용자 본인 세션에서 명시 동의 후** 필요한 메타데이터만 저장
- 장점: UX 좋음, 검색/메모 기능 구현 쉬움
- 단점: 정책/보안 설계가 중요

## 피해야 할 방식
- 무단 크롤링/비공식 역공학 API 호출
- 인증/보안 우회, 요청 위장, anti-bot 회피
- 과도한 수집(불필요한 개인정보 포함)

## 권장 아키텍처 (안전 우선)
1. OAuth 로그인 (가능 시)
2. 데이터 수집 계층 분리
   - API 수집기
   - 파일 업로드 파서
   - 사용자 메모 DB
3. 분석 계층
   - 게시글 성과 집계
   - 태그/키워드/시간대 분석
4. 검색 계층
   - 내 글 검색
   - 메모 검색
   - 통계→원문 이동 링크

## 기능별 구현 포인트

### 1) 내 게시글 빠른 검색
- 인덱스 필드: 작성일, 본문 일부, 해시태그, 성과지표
- 검색: 키워드 + 기간 + 성과 필터

### 2) 통계 페이지에서 게시글 바로가기
- 각 집계 카드에 post_id 링크 연결
- 클릭 시 원문 URL/내보내기 레코드 열기

### 3) "스친 메모" 및 검색
- post_id 기준 메모 저장
- 태그, 우선순위, 후속 액션 필드
- 풀텍스트 검색 지원

## 보안/컴플라이언스 체크리스트
- [ ] 개인정보처리방침/이용약관 명시
- [ ] 동의 화면(수집 항목/목적/보관기간)
- [ ] 데이터 삭제 요청 기능
- [ ] 로그/백업의 개인정보 마스킹
- [ ] 최소권한 원칙(토큰 스코프 제한)

## 수익화 모델(초안)
- Free: 기본 검색 + 최근 30일 통계
- Pro(월): 전체 기간 분석 + 메모/태그 + 고급 필터
- Team: 다계정/공유 보드/리포트 내보내기
